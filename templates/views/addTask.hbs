<!DOCTYPE html>

<html>

<head>
    <title>My Task Manager</title>
    <link rel="icon" href="/images/task.jpg">
    <link rel="stylesheet" href="/css/styles.css">
  
</head>

<body>
    <div class="maincontent">
        {{>headerUser}}

        <div class="userinfo" id="display">
        <p class="inner" id="titles">Add task</p>

    <form method="POST" enctype="multipart/form-data" action="/tasks">       
    <div class="labels">
        <p>Description:<span style="color:red">*</span></p>
    </div>
    <div class="text">
        <textarea name="description" cols="50" rows="10"></textarea>
    </div>
     <div class="labels">
        <p>Is it complete ? </p>
    </div>
    <div class="labels yes">
        <input type="radio" name="completed" value="true" id="yes" onclick="myTrue()" id="yes"/>
        <label for="true" id="true">Yes</label>
    </div>
    <div class="labels yes">
        <input type="radio" name="completed" value="false" onclick="myFalse()" id="no"/>
        <label for="false" id="false">No<br>
    </div>

    <div class="labels" id="duedate">
    </div>
    <div class="text" id="select">

    </div>

    <div id="submit" class="addtask">
        <input class="opts submitform" type="submit" value="Add"/>
    </div>
    </form>  

   </div>
    {{>footer}}
    <script>
        document.getElementById('add').classList.add('active')
    </script>

    <script>
        const myFalse = () => {
            if(!document.getElementById('due')){
            const form = document.querySelector('form')
            const lastlabel = document.getElementById('duedate')
            const lastinput = document.getElementById('select')
            const dueDate = document.createElement('input')
            dueDate.setAttribute('type', 'datetime-local')
            dueDate.setAttribute('name', 'due')
            dueDate.setAttribute('id', 'due')
            let min = new Date()
            let max = min.setFullYear(min.getFullYear()+5)
            dueDate.setAttribute('min', min)
            dueDate.setAttribute('max', max)
            const label = document.createElement('p')
            label.setAttribute('id', 'duelabel')
            label.textContent = 'Due date: '
            
            lastlabel.appendChild(label)
            lastinput.appendChild(dueDate)
            
            }
        }

        const myTrue = () => {
            if(document.getElementById('due')){
                document.getElementById('duedate').removeChild(document.getElementById('duelabel'))
                document.getElementById('select').removeChild(document.getElementById('due'))
            }
        }
    </script>

</body>
</html>